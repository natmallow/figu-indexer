Jodit.modules.Icon.set('Renumerate', `<svg id="ePHg0pDBklb1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 40 40" shape-rendering="geometricPrecision" text-rendering="geometricPrecision"><text dx="0" dy="0" font-family="&quot;ePHg0pDBklb1:::Roboto&quot;" font-size="20" font-weight="400" transform="matrix(2 0 0 2-2.734826 33.369255)" stroke="#000" stroke-width="0"><tspan y="0" font-weight="400" stroke-width="0"><![CDATA[
  E
  ]]></tspan></text><text dx="0" dy="0" font-family="&quot;ePHg0pDBklb1:::Roboto&quot;" font-size="16" font-weight="400" transform="matrix(1.986172 0 0 1.500897 19.127156 26.24147)" stroke-width="0"><tspan y="0" font-weight="400" stroke-width="0"><![CDATA[
  N
  ]]></tspan></text><line x1="-3.888117" y1="0" x2="3.888118" y2="0" transform="matrix(2.203824 0 0 6 10.558428 35.302322)" fill="none" stroke="#000" stroke-width="0.4"/><polygon points="0,-3.797179 3.288453,1.898589 -3.288453,1.898589 0,-3.797179" transform="matrix(.026757 1.455328-1.711595 0.031469 21.464761 33.005934)" fill="#000207" stroke-width="0"/><line x1="16.822059" y1="-17.060107" x2="-16.822059" y2="17.060107" transform="translate(20 20)" fill="none" stroke="rgba(255,0,0,0.56)" stroke-width="10"/>
  <style><![CDATA[
  @font-face {font-family: 'ePHg0pDBklb1:::Roboto';font-style: normal;font-weight: 400;src: url(data:font/ttf;charset=utf-8;base64,AAEAAAASAQAABAAgR0RFRgBKAAgAAAHoAAAAKEdQT1NEdEx1AAABZAAAAB5HU1VCkw2CAgAAAhAAAAA0T1MvMnSaAagAAAMUAAAAYGNtYXAAWQDYAAACfAAAAERjdnQgK6gHnQAAAsAAAABUZnBnbXf4YKsAAAY0AAABvGdhc3AACAATAAABOAAAAAxnbHlmca98PQAAB/AAAAG+aGRteA4MBAsAAAFEAAAAEGhlYWT8atJ6AAACRAAAADZoaGVhCroFpAAAAcQAAAAkaG10eA/HAbYAAAFUAAAAEGxvY2EBQAEEAAABLAAAAAptYXhwAjQDCQAAAYQAAAAgbmFtZRudOGoAAATAAAABdHBvc3T/bQBkAAABpAAAACBwcmVwomb6yQAAA3QAAAFJAAAAYQBhAKMA3wAAAAEAAgAIAAL//wAPAAAAAQAAAAgJBgQCBQYAAAOMAGQB+wAABIwAqQW0AKkAAQAAAAoAHAAcAAFERkxUAAgABAAAAAD//wAAAAAAAAABAAAABACPABYAVAAFAAEAAAAAAA4AAAIAAiQABgABAAMAAAAAAAD/agBkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAB2z+DAAACUn6G/5KCTAAAQAAAAAAAAAAAAAAAAAAAAQAAQACAB4AAAAAAAAADgABAAIAAAAMAAAADAABAAAAAQACAAIAAQABAAEAAAAKADIAMgAEREZMVAAeY3lybAAaZ3JlawAabGF0bgAaAAAAAAAEAAAAAP//AAAAAAABAAAAAiMSNaDSDl8PPPUAGQgAAAAAAMTwES4AAAAA1QFS9Pob/dUJMAhzAAAACQACAAAAAAAAAAAAAgAAAAMAAAAUAAMAAQAAABQABAAwAAAACAAIAAIAAAAgAEUATv//AAAAIABFAE7////h/73/tQABAAAAAAAAAAAAKgCdAIAAigB4ANQAZABOAFoAhwBgAFYANAI8ALwAsgCOAMQAAAAU/mAAFAKbACADIQALBDoAFASNABAFsAAUBhgAFQGmABEGwAAOBtkABgAAAAAAAwSGAZAABQAABZoFMwAAAR8FmgUzAAAD0QBmAgAAAAIAAAAAAAAAAACAAAAnAAAASwAAACAAAAAAR09PRwBAAAD//QYA/gAAZgeaAgAgAAGfAAAAAAQ6BbAAIAAgAAOwDCuwACsAsgEQAisBshEBAisBtxE6MCUbEAAIKwC3AUg7LiEUAAgrtwJYSDgoFAAIK7cDUkM0JRYACCu3BF5NPCsZAAgrtwU2LCIZDwAIK7cGcV1GMhsACCu3B5F3XDojAAgrtwh+Z1A5GgAIK7cJVEU2JhQACCu3CnZgSzYdAAgrtwuDZE46IwAIK7cM2bKKYzwACCu3DRQQDAkGAAgrtw48MiccEQAIK7cPQDQpHRQACCu3EFBBLiEUAAgrALISCwcrsAAgRX1pGESyPxoBc7JfGgFzsn8aAXOyLxoBdLJPGgF0sm8aAXSyjxoBdLKvGgF0sv8aAXSyHxoBdbI/GgF1sl8aAXWyfxoBdbIPHgFzsn8eAXOy7x4Bc7IfHgF0sl8eAXSyjx4BdLLPHgF0sv8eAXSyPx4BdbJvHgF1si8gAXOybyABcwAAAAAAAAgAZgADAAEECQAAAF4AsAADAAEECQABAAwApAADAAEECQACAA4AlgADAAEECQADAAwApAADAAEECQAEAAwApAADAAEECQAFACYAcAADAAEECQAGABwAVAADAAEECQAOAFQAAABoAHQAdABwADoALwAvAHcAdwB3AC4AYQBwAGEAYwBoAGUALgBvAHIAZwAvAGwAaQBjAGUAbgBzAGUAcwAvAEwASQBDAEUATgBTAEUALQAyAC4AMABSAG8AYgBvAHQAbwAtAFIAZQBnAHUAbABhAHIAVgBlAHIAcwBpAG8AbgAgADIALgAxADMANwA7ACAAMgAwADEANwBSAGUAZwB1AGwAYQByAFIAbwBiAG8AdABvAEMAbwBwAHkAcgBpAGcAaAB0ACAAMgAwADEAMQAgAEcAbwBvAGcAbABlACAASQBuAGMALgAgAEEAbABsACAAUgBpAGcAaAB0AHMAIABSAGUAcwBlAHIAdgBlAGQALrAALEuwCVBYsQEBjlm4Af+FsIQdsQkDX14tsAEsICBFaUSwAWAtsAIssAEqIS2wAywgRrADJUZSWCNZIIogiklkiiBGIGhhZLAEJUYgaGFkUlgjZYpZLyCwAFNYaSCwAFRYIbBAWRtpILAAVFghsEBlWVk6LbAELCBGsAQlRlJYI4pZIEYgamFksAQlRiBqYWRSWCOKWS/9LbAFLEsgsAMmUFhRWLCARBuwQERZGyEhIEWwwFBYsMBEGyFZWS2wBiwgIEVpRLABYCAgRX1pGESwAWAtsAcssAYqLbAILEsgsAMmU1iwQBuwAFmKiiCwAyZTWCMhsICKihuKI1kgsAMmU1gjIbDAioobiiNZILADJlNYIyG4AQCKihuKI1kgsAMmU1gjIbgBQIqKG4ojWSCwAyZTWLADJUW4AYBQWCMhuAGAIyEbsAMlRSMhIyFZGyFZRC2wCSxLU1hFRBshIVktsAossChFLbALLLApRS2wDCyxJwGIIIpTWLlAAAQAY7gIAIhUWLkAKAPocFkbsCNTWLAgiLgQAFRYuQAoA+hwWVlZLbANLLBAiLggAFpYsSkARBu5ACkD6ERZLQAFAGQAAAMoBbAAAwAGAAkADAAPAHGyDBARERI5sAwQsADQsAwQsAbQsAwQsAnQsAwQsA3QALAARViwAi8bsQIePlmwAEVYsAAvG7EAEj5ZsgQCABESObIFAgAREjmyBwIAERI5sggCABESObEKDPSyDAIAERI5sg0CABESObACELEODPQwMSEhESEDEQEBEQEDIQE1ASEDKP08AsQ2/u7+ugEM5AID/v4BAv39BbD6pAUH/X0Cd/sRAnj9XgJeiAJeAAEAqQAABEYFsAALAFEAsABFWLAGLxuxBh4+WbAARViwBC8bsQQSPlmyCwQGERI5sAsvsQABsAorWCHYG/RZsAQQsQIBsAorWCHYG/RZsAYQsQgBsAorWCHYG/RZMDEBIREhFSERIRUhESED4P2JAt38YwOT/S0CdwKh/fydBbCe/iwAAAEAqQAABQgFsAAJAEyyAQoLERI5ALAARViwBS8bsQUePlmwAEVYsAgvG7EIHj5ZsABFWLAALxuxABI+WbAARViwAy8bsQMSPlmyAgUAERI5sgcFABESOTAxISMBESMRMwERMwUIwf0jwcEC378EYvueBbD7mQRnAAA=) format('truetype');}
  ]]></style>
  </svg>
  `);
Jodit.modules.Icon.set('enumerate', `<svg id="eBArGZ109jn1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 40 40" shape-rendering="geometricPrecision" text-rendering="geometricPrecision"><text dx="0" dy="0" font-family="&quot;eBArGZ109jn1:::Roboto&quot;" font-size="20" font-weight="400" transform="matrix(2 0 0 2-2.734826 33.369255)" stroke="#000" stroke-width="0"><tspan y="0" font-weight="400" stroke-width="0"><![CDATA[
  E
  ]]></tspan></text><text dx="0" dy="0" font-family="&quot;eBArGZ109jn1:::Roboto&quot;" font-size="16" font-weight="400" transform="matrix(1.986172 0 0 1.500897 19.127156 26.24147)" stroke-width="0"><tspan y="0" font-weight="400" stroke-width="0"><![CDATA[
  N
  ]]></tspan></text><line x1="-3.888117" y1="0" x2="3.888118" y2="0" transform="matrix(2.203824 0 0 6 10.558428 35.302322)" fill="none" stroke="#000" stroke-width="0.4"/><polygon points="0,-3.797179 3.288453,1.898589 -3.288453,1.898589 0,-3.797179" transform="matrix(.026757 1.455328-1.711595 0.031469 21.464761 33.005934)" fill="#000207" stroke-width="0"/>
  <style><![CDATA[
  @font-face {font-family: 'eBArGZ109jn1:::Roboto';font-style: normal;font-weight: 400;src: url(data:font/ttf;charset=utf-8;base64,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) format('truetype');}
  ]]></style>
  </svg>`);
Jodit.modules.Icon.set('descisionB',`<svg id="eEgrtBfikGb1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 300 300" shape-rendering="geometricPrecision" text-rendering="geometricPrecision"><text dx="0" dy="0" font-family="&quot;eEgrtBfikGb1:::Roboto&quot;" font-size="15" font-weight="400" transform="matrix(8.549592 0 0 11.110785 22.984115 137.86494)" stroke-width="0"><tspan y="0" font-weight="400" stroke-width="0"><![CDATA[
  ETC. 
  ]]></tspan></text><text dx="0" dy="0" font-family="&quot;eEgrtBfikGb1:::Roboto&quot;" font-size="15" font-weight="400" transform="matrix(8.549592 0 0 11.110785 6.61751 282.436684)" stroke-width="0"><tspan y="0" font-weight="400" stroke-width="0"><![CDATA[
  USW. 
  ]]></tspan></text><rect width="195.853792" height="150" rx="0" ry="0" transform="matrix(1.024945 0 0 1 99.820716 0)" opacity="0.52" fill="#721adf" stroke-width="0"/><rect width="162.911438" height="150" rx="0" ry="0" transform="matrix(1.026161 0 0 1-.130963 150)" fill="rgba(0,85,255,0.51)" stroke-width="0"/>
  <style><![CDATA[
  @font-face {font-family: 'eEgrtBfikGb1:::Roboto';font-style: normal;font-weight: 400;src: url(data:font/ttf;charset=utf-8;base64,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) format('truetype');}
  ]]></style>
  </svg>`);
Jodit.modules.Icon.set('ScrollDis',`<svg id="eg9xyGtPC871" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 300 300" shape-rendering="geometricPrecision" text-rendering="geometricPrecision"><g transform="matrix(.724339 0 0 0.752206-5.172945 7.709552)"><rect width="67.602704" height="187.727509" rx="0" ry="0" transform="matrix(.645162 0 0 0.828258 85.810957 9.360078)" fill="#000309" stroke-width="0"/><polygon points="0,-55.428583 48.002561,27.714291 -48.002561,27.714291 0,-55.428583" transform="matrix(.520691-.853745 0.853745 0.520691 108.138333 156.9466)" fill="#000102" stroke-width="0"/></g><polygon points="0,-105.63361 91.48139,52.816805 -91.48139,52.816805 0,-105.63361" transform="translate(168.460748 178.862925)" fill="#ffea44" stroke="#fb0505" stroke-width="6"/><text dx="0" dy="0" font-family="&quot;eg9xyGtPC871:::Roboto&quot;" font-size="15" font-weight="400" transform="matrix(16.668249-.086292 0.045465 8.782017 136.528871 214.965736)" stroke-width="0"><tspan y="0" font-weight="400" stroke-width="0"><![CDATA[
  ! 
  ]]></tspan></text>
  <style><![CDATA[
  @font-face {font-family: 'eg9xyGtPC871:::Roboto';font-style: normal;font-weight: 400;src: url(data:font/ttf;charset=utf-8;base64,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) format('truetype');}
  ]]></style>
  </svg>
  `);
  

  const stringToHTML = function (str) {
    const parser = new DOMParser();
    const doc = parser.parseFromString(str, 'text/html');
      return doc.body;
  };

  const cleanHtml = (str) => {
    return String(str)
      .replaceAll(/&nbsp;/g, "")
      .replaceAll(/\t/g, "")
      .replaceAll(/\n/g, "")
      // .replaceAll(/<br\s?\/?>/g, " #br# ")
      ;
  }

  const restoreBr = (str) => {
    return String(str).replaceAll(/#br#/g, "<br>")
  }

  const htmlEncode = (str) => {
        return String(str)
          .replaceAll(/&nbsp;/g, "")
          .replaceAll(/&/g, "&amp;")
          .replaceAll(/"/g, "&quot;")
          .replaceAll(/'/g, "\u0027")
          .replaceAll(/</g, " &lt;")
          .replaceAll(/>/g, "&gt; ")
          .replaceAll(/\t/g, "")
          .replaceAll(/\n/g, "");
      }

  const htmlDecode = (value) => {
        return String(value)
          .replaceAll(/&quot;/g, '"')
          .replaceAll(/\u0027/g, "'")
          .replaceAll(/ &lt;/g, "<")
          .replaceAll(/&gt; /g, ">")
          .replaceAll(/&amp;/g, "&");
          
      }

enumerate = () => {
  return {
    name: "enumerate",
    tooltip: "Enumeration",
    exec: (editor) => {
        //           /.*?(?<! Mr| Mrs| Ms| ca| Chr| u\.U| o\.Ä| usw| usf| z\.B| NB| e\.g| bzw| z\.Z| evtl| resp| Anm| \(Anm| d\.h| e\.V| geb| Jahrh| lat| m\.E| n\.V| u\.a| z\.T| i\.e| etc| jr| jun| a\.m| p\.m)[.!?\u2026](?=(?<!\d\.|\d\s\.)\s+|\s*$)/gi;
        const $re =
          /.*?(?<! rd| v| d| Tab| vs| dr| engl| nb| d\.h| s| pp| p| Erkl| z\.z| bzw| dr| u\.a| Anm| \(Anm| e\.g| Mr| Mrs| Ms| resp| i\.e| z\.B| u\.U| o\.Ä| ca| Chr| usw| usf| evtl| e\.V| Jahrh| lat| m\.E| n\.V| z\.T| etc| jr| jun| a\.m| p\.m)[.!?\u2026](?=(?<!\d\.|\d\s\.)\s+|<br>|\s*$)/gi;

      
      const hasDecision = editor.container.querySelectorAll(".decision");
      if (hasDecision.length) {
        alert('There are still abbreviation decision.\nMake sure there are no more decisions to be made.')
        return;
      }

      const metaData = editor.container.querySelector("#meta-data");
      let metaDataEl = "";

      function nested_table($gerTable, $engTable, $curcount) {
        $nestCount = $curcount;

        const $gerNested = $gerTable.querySelectorAll("tr");
        const $engNested = $engTable.querySelectorAll("tr");

        // no check to make sure the tds are the same
       // loop through the tds 
       $gerNested.forEach((element, ind) => {
        // console.log(element.querySelectorAll("td"));
        $gerTd = $gerNested[ind].querySelectorAll("td")
        $engTd = $engNested[ind].querySelectorAll("td")
        
        $gerTd.forEach((ele, ind) => {
            // get the text 
            $gerStr = cleanHtml($gerTd[ind].innerHTML).trim()
            $engStr = cleanHtml($engTd[ind].innerHTML).trim()
      
            // enum all segments 
            const $gerMatches = $gerStr.match($re);
            const $engMatches = $engStr.match($re);
            
            // set value to enum segments
            
            // solution for cutoffs english
            if ($gerMatches && $gerMatches.length) {
              const $gerMatLen = $gerMatches.join('').length ?? 0;
    
              let $gerLeftOver = $gerStr.slice($gerMatLen);
              if ($gerLeftOver.trim().length != 0) {
                $gerMatches.push($gerLeftOver);
              }
            }

            let $enghtm = "";
            let $gerhtm = "";
            let $i = 0;
    
            try {
              $length =
                $engMatches.length > $gerMatches.length
                  ? $engMatches.length
                  : $gerMatches.length;
              while ($i < $length) {
                let $cntGer = `track_${$curcount}_${$nestCount}_${$i}-de`;
                let $cntEng = `track_${$curcount}_${$nestCount}_${$i}-en`;
    
                if ($gerMatches[$i] && $engMatches[$i]) {
                  $gerhtm += `<track-span id="${$cntGer}" class="eNum">${$gerMatches[$i]}</track-span>`;
                  $enghtm += `<track-span id="${$cntEng}" class="eNum">${$engMatches[$i]}</track-span>`;
                } else if (!$gerMatches[$i] && $engMatches[$i]) {
                  $gerhtm += `<track-span id="${$cntGer}" class="eNum missing"> - missing </track-span>`;
                  $enghtm += `<track-span id="${$cntEng}" style="color:red;" class="eNum missing">${$engMatches[$i]}</track-span>`;
                } else if (!$engMatches[$i] && $gerMatches[$i]) {
                  $gerhtm += `<track-span id="${$cntGer}" style="color:red;" class="eNum missing">${$gerMatches[$i]}</track-span>`;
                  $enghtm += `<track-span id="${$cntEng}" class="eNum missing"> - missing </track-span>`;
                }
    
                $i++;
              }
            } catch (err) {
              console.log("Message: " + err);
            }
    
            try {
              let $cntGer = `track_${$curcount}_${$nestCount}_${$i}-de`;
              let $cntEng = `track_${$curcount}_${$nestCount}_${$i}-en`;
              // if there were no matches just retun org html
              if (!$engMatches || !$gerMatches) {
                $gerhtm = `<track-span id="${$cntGer}" class="eNum" >${$gerStr}</track-span>`;                
                $enghtm = `<track-span id="${$cntEng}" class="eNum" >${$engStr}</track-span>`;
              }
            } catch (err) {}

            $nestCount++;
            
            $gerTd[ind].innerHTML = restoreBr($gerhtm); 
            $engTd[ind].innerHTML = restoreBr($enghtm);

          }); 

       })

        
        
        

      }

      function format_FOMK($html, $curcount = 1, $isTable = false) {
        let $engStr = "";
        let $gerStr = "";

        let $engInnerTable = "";
        let $gerInnerTable = "";


        try {
         
          $gerInnerTable = $html.querySelector(":scope > td:last-child").querySelector("table");
          $engInnerTable = $html.querySelector(":scope > td:first-child").querySelector("table"); 

          if ($engInnerTable) {
            nested_table($gerInnerTable, $engInnerTable, $curcount)
            return $html;
          }

          $gerStr = cleanHtml($html.querySelector(":scope > td:last-child").innerHTML).trim();
          $engStr = cleanHtml($html.querySelector(":scope > td:first-child").innerHTML).trim();

        } catch (error) {
          return $html;
        }


        const $engMatches = $engStr.match($re);
        const $gerMatches = $gerStr.match($re);

        // solution for cutoffs english
        if ($gerMatches && $gerMatches.length) {
          const $gerMatLen = $gerMatches.join('').length ?? 0;
 
          let $gerLeftOver = $gerStr.slice($gerMatLen);
          if ($gerLeftOver.trim().length != 0) {
            $gerMatches.push($gerLeftOver);
          }
        }
        
        // solution for cutoffs german        
        if ($engMatches && $engMatches.length) {
          let $engMatLen = $engMatches.join('').length ?? 0;
          let $engLeftOver = $engStr.slice($engMatLen);
          if ($engLeftOver.trim().length != 0) {
            $engMatches.push($engLeftOver);
          }
        }
        
        $enghtm = "";
        $gerhtm = "";
        $i = 0;

        try {
          $length =
            $engMatches.length > $gerMatches.length
              ? $engMatches.length
              : $gerMatches.length;
          while ($i < $length) {
            $cntGer = `track_${$curcount}_${$i}-de`;
            $cntEng = `track_${$curcount}_${$i}-en`;

            if ($gerMatches[$i] && $engMatches[$i]) {
              $gerhtm += `<track-span id="${$cntGer}" class="eNum">${$gerMatches[$i]}</track-span>`;
              $enghtm += `<track-span id="${$cntEng}" class="eNum">${$engMatches[$i]}</track-span>`;
            } else if (!$gerMatches[$i] && $engMatches[$i]) {
              $gerhtm += `<track-span id="${$cntGer}" class="eNum missing"> - missing </track-span>`;
              $enghtm += `<track-span id="${$cntEng}" style="color:red;" class="eNum missing">${$engMatches[$i]}</track-span>`;
            } else if (!$engMatches[$i] && $gerMatches[$i]) {
              $gerhtm += `<track-span id="${$cntGer}" style="color:red;" class="eNum missing">${$gerMatches[$i]}</track-span>`;
              $enghtm += `<track-span id="${$cntEng}" class="eNum missing"> - missing </track-span>`;
            }

            $i++;
          }
        } catch (err) {
          console.log("Message: " + err);
        }

        try {
          $cntGer = `track_${$curcount}_${$i}-de`;
          $cntEng = `track_${$curcount}_${$i}-en`;
          // if there were no matches just retun org html
          if (!$engMatches || !$gerMatches) {
            $enghtm = `<track-span id="${$cntEng}" class="eNum" >${$engStr}</track-span>`;
            $gerhtm = `<track-span id="${$cntGer}" class="eNum" >${$gerStr}</track-span>`;
          }
        } catch (err) {}

        $html.querySelector(":scope > td:first-child").innerHTML = restoreBr($enghtm);
        $html.querySelector(":scope > td:last-child").innerHTML = restoreBr($gerhtm);

        return $html;
      }

      // this will check what we have
      //<span id="meta-data" data-format="FMOK" data-state="enumerated" data-visable="true" style="display:none"></span>
      if (metaData && metaData.dataset.state === "enumerated") {
        alert("Enumeration already present \nPlease run remove enumeration first");
        return;
      } else if (metaData && metaData.dataset.state !== "enumerated") {
        metaData.dataset.state = "enumerated";
        metaDataEl = $("#meta-data")[0].cloneNode(true);
      } else {
        metaDataEl = `<input type="hidden" id="meta-data" data-format="FMOK" data-state="enumerated" data-visable="true" style="display:none"></input>`;
      }

      // get only the first children 
      const mainTable = editor.container.querySelector("table")
      const nodeList = mainTable.querySelectorAll(":scope > tbody > tr");
      htmlRtn = document.createElement("table");    

      for (let i = 0; i < nodeList.length; i++) {
          htmlRtn.appendChild(format_FOMK(nodeList[i], i));
      }

      editor.value = htmlRtn.outerHTML + metaDataEl;

    },
  };
};

removeEnumerate = () => {
  return {
    name: "Renumerate",
    tooltip: "Removes Enumeration",
    exec: (editor) => {
      const removeSpan = function ($html) {
        $engStr = $html.querySelector(":scope > td:first-child").innerHTML;
        $gerStr = $html.querySelector(":scope > td:last-child").innerHTML;

        // const regex =/(?:<span id="track.*?" class="eNum.*?"\s*?>)(.*?)(?:<\/span>)/g;
        const regex =/(?:<track-span id="track.*?" class="(?:eNum|toHide).*?"\s*?>)([\w\W]*?)(?:<\/track-span>)/g;
       // const regex =/(?:<track-span id="track.*?" class="(?:eNum|toHide).*?"\s*?>) - missing (?:<\/track-span>)/g;
        
        // removes any left over tags 
        const regex2 =/<track-span id="track.*?" class="(?:eNum|toHide).*?"\s*?>/g;
        const regex3 =/<\/track-span>/g;

        let eng = $engStr.replaceAll(regex, function(i, match) {
          if (match == ' - missing ')
          return '';
          return match;
        }).replaceAll(regex2, '').replaceAll(regex3, '');

        let ger = $gerStr.replaceAll(regex, function(i, match) {
          if (match == ' - missing ')
          return '';
          return match;
        }).replaceAll(regex2, '').replaceAll(regex3, '');

        $html.querySelector(":scope > td:first-child").innerHTML = eng;
        $html.querySelector(":scope > td:last-child").innerHTML = ger;

        return $html;
      };

      const metaData = editor.container.querySelector("#meta-data");

      if (!metaData || metaData.dataset.state !== "enumerated") {
        alert("no enumeration present");
        return;
      } else {
        metaData.dataset.state = "not enumerated";
      }

      const mainTable = editor.container.querySelector("table")
      const nodeList = mainTable.querySelectorAll(":scope > tbody > tr");
      htmlRtn = document.createElement("table");

      for (let i = 0; i < nodeList.length; i++) {
        htmlRtn.appendChild(removeSpan(nodeList[i]));
      }
      editor.value = htmlRtn.outerHTML;
    },
  };
};

highlightAbbreviationsPublication = () => {
  
  return {
    name: "descisionB",
    tooltip: "Fix Abbreviations",
    exec: (editor) => {     


      const hasDecision = editor.container.querySelectorAll(".decision");
      if (hasDecision.length) {
        alert('There are still abbreviation decision.\nMake sure there are no more decisions to be made.')
        return;
      }

      /*
      removed " i.e.", " e.g.", " u.U.", " resp.", " ca.",  " bzw.", " Anm.", 
      " (Anm.", " z.B.", " NB.", " z.Z.", " evtl.", " d.h.",  " geb.", " u.a.", 
  " o.Ä.",
      */ 
      const abrevArr = [ " Chr.", " usw.", " usf.",
      " e.V.", " Jahrh.", " lat.", " m.E.", " n.V.", 
      " z.T.", " etc.", " jr.", " jun.", " a.m.", " p.m."]
     

      const nodeList = editor.container.querySelector(".jodit-wysiwyg").innerHTML;

      let masterString =  htmlEncode(nodeList);

      for (let i = abrevArr.length - 1 ; i >= 0; i--) {
        const finalAns = masterString.replaceAll(abrevArr[i], `
        <decision-span class="decision">
        <decision-span class="decide" onclick="decision(event)" >${abrevArr[i]}</decision-span><decision-span class="decide-true" onclick="decision(event)" >${abrevArr[i]}.</decision-span>
        </decision-span>
        `);
        masterString = finalAns;
      }

      editor.value = htmlDecode( masterString );

    }
  }
}

nextDiscrepancy = () => {
  return {
    name: "ScrollDis",
    tooltip: "Scroll discrepancy into view",
    exec: (editor) => {
      if (editor.container.querySelectorAll(".decision").length) {
        editor.container.querySelector(".decision")
          .scrollIntoView({behavior: "smooth", block: "center", inline: "nearest"});
        return;
      }
     editor.container.querySelector(".missing")
      .scrollIntoView({behavior: "smooth", block: "center", inline: "nearest"});
    }
  }

}

decision = (e) => {
   e.target.parentNode.remove(); 
   editor.s.insertHTML(' '+e.target.textContent);
}

savePublication = () => {
  return {
    name: "Save",
    tooltip: "Save Publication",
    exec: (editor) => {
      document.getElementById('publicationForm').submit();
    }
  }
}
